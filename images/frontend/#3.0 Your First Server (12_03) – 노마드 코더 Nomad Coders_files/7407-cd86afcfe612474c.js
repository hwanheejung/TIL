"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7407],{8385:function(e,n,t){var r=t(85893),i=function(e){var n=e.hasLink,t=e.children,i=e.username;return n?(0,r.jsx)("a",{href:"/users/".concat(i),target:"_blank",children:t}):(0,r.jsx)(r.Fragment,{children:t})};n.Z=function(e){var n=e.url,t=e.className,o=void 0===t?"w-16":t,u=e.tier,s=e.username,l=void 0===s?"":s,a=e.xl,c=e.hasLink;return(0,r.jsx)(i,{hasLink:c,username:l,children:(0,r.jsxs)("div",{className:"".concat(o," relative"),children:[n?(0,r.jsx)("img",{src:n,className:"w-full rounded-full"}):(0,r.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden flex items-center justify-center bg-gray-100 ",children:(0,r.jsx)("svg",{className:"w-full h-full text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})}),u&&0!==u&&"[deleted]"!==l?(0,r.jsx)("img",{src:"/badges/shield_".concat(u,".svg"),className:"absolute ".concat(a?"right-0 w-3/12 bottom-0":" w-6 -mt-6 right-0"," ")}):null]})})}},16120:function(e,n,t){t.d(n,{Z:function(){return B}});var r=t(85893),i=t(67294),o=t(41664),u=t(52165),s=t(9008),l=t(50319),a=t(19989),c=t(8385),d=t(27590),m=t(89485),v=function(e){var n=e.avatar,t=e.username,i=e.created,o=e.comment,s=e.isOwner,l=e.isSolution,a=e.isIssueAuthor,v=e.isParentSolved,f=e.deleting,g=e.markingAsSolution,h=e.toggleIsEditing,p=e.onDelete,b=e.onMarkSolved,x=e.isEditing,y=e.onEditSubmit,w=e.commentEditText,j=e.setCommentEditText;e.tier;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-700 shadow-sm rounded-md",children:[(0,r.jsxs)("div",{className:"bg-gray-200 dark:bg-gray-900 rounded-t-md flex items-center justify-between px-2 py-2 text-sm ".concat(f?"bg-red-400":""," ").concat(l?"bg-indigo-600":""," ").concat(g?"bg-indigo-400":""),children:[(0,r.jsxs)("div",{className:"flex items-center dark:text-white ".concat(l?"text-white":""),children:[(0,r.jsx)(c.Z,{url:n,className:"w-6",hasLink:!0,username:t,xl:!1}),(0,r.jsx)("a",{href:"/users/".concat(t),target:"_blank",children:(0,r.jsx)("span",{className:"font-medium ml-2 mr-1 block",children:t})}),"commented ",u.WU(i)]}),(0,r.jsxs)("div",{className:'"flex items-center" '.concat(l?"text-white":""),children:[l&&(0,r.jsx)("span",{className:"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium leading-5 bg-gray-100 text-gray-800",children:"Solution"}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"ml-3",onClick:h,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 dark:text-white",children:(0,r.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,r.jsx)("button",{className:"ml-3",onClick:p,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 dark:text-white",children:(0,r.jsx)("path",{d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"})})})]}),a&&!v&&!l&&(0,r.jsx)("button",{className:"ml-3",onClick:b,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5 text-indigo-600",children:(0,r.jsx)("path",{d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd",fillRule:"evenodd"})})})]})]}),(0,r.jsx)("div",{className:"p-5 w-full break-words",children:x?(0,r.jsx)("form",{onSubmit:y,children:(0,r.jsx)(m.Z,{cta:"Update Comment",markdownTextValue:w,setMarkdownText:j,size:"sm"})}):(0,r.jsx)(d.default,{source:o})})]})};function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,s=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(l){s=!0,i=l}finally{try{u||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function p(){var e=h(["\n  mutation deleteIssueOrComment($objectId: Int!, $isIssue: Boolean!) {\n    deleteIssueOrComment(objectId: $objectId, isIssue: $isIssue) {\n      ok\n    }\n  }\n"]);return p=function(){return e},e}function b(){var e=h(["\n  mutation markAsSolution($commentPk: Int!) {\n    markAsSolution(commentPk: $commentPk) {\n      ok\n    }\n  }\n"]);return b=function(){return e},e}function x(){var e=h(["\n  mutation editIssueOrComment(\n    $objectId: Int!\n    $isIssue: Boolean!\n    $newComment: String!\n  ) {\n    editIssueOrComment(\n      objectId: $objectId\n      isIssue: $isIssue\n      newComment: $newComment\n    ) {\n      ok\n    }\n  }\n"]);return x=function(){return e},e}function y(){var e=h(["\n          fragment objectAuthor on IssueType {\n            user {\n              avatar\n              username\n            }\n            isOwner\n          }\n        "]);return y=function(){return e},e}function w(){var e=h(["\n          fragment objectAuthor on IssueCommentType {\n            user {\n              avatar\n              username\n            }\n            isOwner\n          }\n        "]);return w=function(){return e},e}function j(){var e=h(["\n        fragment issueComment on IssueCommentType {\n          isSolution\n        }\n      "]);return j=function(){return e},e}function k(){var e=h(["\n        fragment issue on IssueType {\n          status\n        }\n      "]);return k=function(){return e},e}function I(){var e=h(["\n          fragment objectAuthor on IssueType {\n            comment\n          }\n        "]);return I=function(){return e},e}function C(){var e=h(["\n          fragment objectAuthor on IssueCommentType {\n            comment\n          }\n        "]);return C=function(){return e},e}var S=(0,a.Ps)(p()),P=(0,a.Ps)(b()),N=(0,a.Ps)(x()),T=function(e){var n=e.avatar,t=e.username,o=e.created,u=e.comment,s=e.isOwner,c=e.isIssue,d=e.tier,m=e.objectId,f=e.isSolution,h=e.isIssueAuthor,p=e.issueId,b=e.isParentSolved,x=g((0,l.D)(S,{variables:{objectId:parseInt(m),isIssue:c},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.deleteIssueOrComment)||void 0===r?void 0:r.ok){var i,o=c?"IssueType:".concat(m):"IssueCommentType:".concat(m);i=c?(0,a.Ps)(y()):(0,a.Ps)(w()),e.writeFragment({id:o,fragment:i,data:{__typename:c?"IssueType":"IssueCommentType",user:{__typename:"UserType",id:9999999,avatar:"",username:"kimchi-ghost"},isOwner:!1}})}},onError:function(){return alert("Could not delete, try again later.")}}),2),T=x[0],O=x[1].loading,D=g((0,l.D)(P,{variables:{commentPk:parseInt(m)},onError:function(){return alert("Could not mark as solved, try again.")},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.markAsSolution)||void 0===r?void 0:r.ok){var i="IssueCommentType:".concat(m),o=(0,a.Ps)(j());e.writeFragment({id:i,fragment:o,data:{__typename:"IssueCommentType",isSolution:!0}});var u="IssueType:".concat(p),s=(0,a.Ps)(k());e.writeFragment({id:u,fragment:s,data:{__typename:"IssueType",status:"SOLVED"}})}}}),2),E=D[0],$=D[1].loading,A=(0,i.useState)(!1),F=A[0],L=A[1],z=(0,i.useState)(u),_=z[0],q=z[1],M=function(){return L((function(e){return!e}))},R=g((0,l.D)(N,{variables:{isIssue:c,objectId:parseInt(m),newComment:_},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.editIssueOrComment)||void 0===r?void 0:r.ok){M();var i,o=c?"IssueType:".concat(m):"IssueCommentType:".concat(m);i=c?(0,a.Ps)(I()):(0,a.Ps)(C()),e.writeFragment({id:o,fragment:i,data:{__typename:c?"IssueType":"IssueCommentType",comment:_}})}}}),2),V=R[0],Z=R[1].loading;return(0,r.jsx)(v,{avatar:n,username:t,created:o,comment:u,isOwner:s,tier:d,isSolution:f,isIssueAuthor:h,isParentSolved:b,deleting:O,markingAsSolution:$,toggleIsEditing:M,onDelete:function(){confirm("\uc774\uc288\ub294 \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub300\uc2e0 \uc791\uc131\uc790\uba85\uc774 \ubcc0\uacbd\ub429\ub2c8\ub2e4. \uacc4\uc18d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&T()},onMarkSolved:function(){confirm("\uc774 \ub2f5\ubcc0\uc744 \ud574\uacb0\ucc45\uc73c\ub85c \ucc44\ud0dd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&E()},isEditing:F,onEditSubmit:function(e){e.preventDefault(),Z||""===_||V()},commentEditText:_,setCommentEditText:q})},O=i.memo(T),D=function(e){var n,t,i,l,a,c,d,v,f,g,h,p,b,x,y,w,j,k,I,C,S,P,N,D,E,$,A,F=e.issueData,L=e.lectureData,z=e.courseData,_=e.newCommentText,q=e.setNewCommentText,M=e.commentMutationProgress,R=e.onSubmit,V=e.titleEditValue,Z=e.isEditingTitle,B=e.onTitleEditChange,U=e.toggleIsEditing,G=e.onTitleEditSubmit,W=e.challengeSlug;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("link",{href:"/css/mde.css",rel:"stylesheet"}),(0,r.jsxs)("title",{children:[null===(n=F.issue)||void 0===n?void 0:n.title," #",null===(t=F.issue)||void 0===t?void 0:t.id," - \ub178\ub9c8\ub4dc \ucf54\ub354 Nomad Coders"]}),(0,r.jsx)("meta",{property:"og:image",content:"https://d1telmomo28umc.cloudfront.net/media/seo/graphDefault.jpg"})]}),L?(0,r.jsx)(o.default,{href:"/[course]/lectures/[id]",as:"/".concat(null===z||void 0===z||null===(i=z.course)||void 0===i?void 0:i.slug,"/lectures/").concat(null===L||void 0===L||null===(l=L.lecture)||void 0===l?void 0:l.id),children:(0,r.jsxs)("a",{className:"text-base font-medium mb-5 block text-blue-600 dark:text-gray-300 transition-colors dark:hover:text-white hover:underline",children:["\u2190 ",null===(a=L.lecture)||void 0===a?void 0:a.publicName]})}):(0,r.jsx)(o.default,{href:"/c/".concat(W,"/lobby"),children:(0,r.jsx)("a",{className:"text-base font-medium mb-5 block text-blue-600 dark:text-gray-300 transition-colors dark:hover:text-white hover:underline ".concat(W?"text-white dark:text-white":""),children:"\u2190 Back to lobby"})}),(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[Z?(0,r.jsxs)("form",{className:"w-full flex items-stretch",onSubmit:G,children:[(0,r.jsx)("input",{autoFocus:!0,className:"form-input w-full",value:V,onChange:B}),(0,r.jsx)("button",{type:"submit",className:"inline-flex ml-3 h-full items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-400 active:bg-blue-700 transition ease-in-out duration-150",children:"Save"})]}):(0,r.jsxs)("div",{className:"flex flex-wrap",children:[(0,r.jsx)("h3",{className:"text-2xl font-medium dark:text-white",children:null===F||void 0===F||null===(c=F.issue)||void 0===c?void 0:c.title}),(0,r.jsxs)("span",{className:"text-2xl text-gray-300 ml-2 ".concat(W?"text-white":""),children:["#",null===F||void 0===F||null===(d=F.issue)||void 0===d?void 0:d.id]})]}),(null===(v=F.issue)||void 0===v?void 0:v.isOwner)&&(0,r.jsx)("button",{className:"ml-3 cursor-pointer",onClick:U,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 dark:text-white",children:(0,r.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]}),(0,r.jsxs)("div",{className:"mt-1 mb-5 flex items-center",children:["OPEN"===(null===(f=F.issue)||void 0===f?void 0:f.status)&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-sm font-medium leading-5 bg-green-600 text-white",children:[(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 text-white mr-1",children:(0,r.jsx)("path",{d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd",fillRule:"evenodd"})}),"Open"]}),"SOLVED"===(null===(g=F.issue)||void 0===g?void 0:g.status)&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-sm font-medium leading-5 bg-indigo-600 text-white",children:[(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 text-white mr-1",children:(0,r.jsx)("path",{d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd",fillRule:"evenodd"})}),"Solved"]}),(0,r.jsxs)("span",{className:"text-gray-500 text-sm ml-2  dark:text-gray-300 ".concat(W?"text-white dark:text-white":""),children:[(0,r.jsx)("span",{className:"font-medium",children:null===(h=F.issue)||void 0===h||null===(p=h.user)||void 0===p?void 0:p.username})," ","opened this issue ",u.WU(null===(b=F.issue)||void 0===b?void 0:b.created)," \xb7"," ",null===F||void 0===F||null===(x=F.issue)||void 0===x||null===(y=x.comments)||void 0===y?void 0:y.length," ",1===(null===F||void 0===F||null===(w=F.issue)||void 0===w||null===(j=w.comments)||void 0===j?void 0:j.length)?"comment":"comments"]})]}),F.issue&&(0,r.jsx)(O,{objectId:null===(k=F.issue)||void 0===k?void 0:k.id,isIssue:!0,isOwner:(null===(I=F.issue)||void 0===I?void 0:I.isOwner)||!1,avatar:(null===(C=F.issue)||void 0===C||null===(S=C.user)||void 0===S?void 0:S.avatar)||"",username:(null===(P=F.issue)||void 0===P||null===(N=P.user)||void 0===N?void 0:N.username)||"",tier:F.issue.user.tier,created:null===(D=F.issue)||void 0===D?void 0:D.created,comment:null===(E=F.issue)||void 0===E?void 0:E.comment}),null===($=F.issue)||void 0===$||null===(A=$.comments)||void 0===A?void 0:A.map((function(e){var n,t,i;return e&&(0,r.jsx)("div",{className:"mt-10",children:(0,r.jsx)(T,{issueId:(null===(n=F.issue)||void 0===n?void 0:n.id)||"",isIssue:!1,isIssueAuthor:(null===(t=F.issue)||void 0===t?void 0:t.isOwner)||!1,created:e.created,objectId:e.id,tier:e.user.tier,username:e.user.username||"",avatar:e.user.avatar||"",isOwner:e.isOwner||!1,comment:e.comment,isSolution:e.isSolution,isParentSolved:"SOLVED"===(null===(i=F.issue)||void 0===i?void 0:i.status)})},e.id)})),(0,r.jsx)("div",{className:"mt-16 pt-10 border-gray-200 dark:border-gray-500 border-t",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow-sm rounded-md p-5",children:(0,r.jsx)("form",{onSubmit:R,children:(0,r.jsx)(m.Z,{setMarkdownText:q,markdownTextValue:_,cta:M?"Posting":"Comment",size:"sm"})})})})]})]})},E=t(33306);function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,s=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(l){s=!0,i=l}finally{try{u||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function L(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"===typeof e)return $(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$(e,n):void 0}}function _(){var e=F(["\n  mutation commentOnIssue($comment: String!, $issuePk: Int!) {\n    commentOnIssue(comment: $comment, issuePk: $issuePk) {\n      comment {\n        ...IssueCommentParts\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function q(){var e=F(["\n  mutation editTitle($newTitle: String!, $issuePk: Int!) {\n    editTitle(newTitle: $newTitle, issuePk: $issuePk) {\n      ok\n    }\n  }\n"]);return q=function(){return e},e}function M(){var e=F(["\n        fragment issueFragment on IssueType {\n          comments {\n            id\n          }\n        }\n      "]);return M=function(){return e},e}function R(){var e=F(["\n        fragment issueFragment on IssueType {\n          title\n        }\n      "]);return R=function(){return e},e}var V=(0,a.Ps)(_(),E.hq),Z=(0,a.Ps)(q()),B=function(e){var n,t,o,u=e.issueData,s=e.lectureData,c=e.challengeSlug,d=e.courseData,m=(0,i.useState)(""),v=m[0],f=m[1],g=A((0,l.D)(V,{variables:{comment:v,issuePk:parseInt((null===(n=u.issue)||void 0===n?void 0:n.id)||"0")},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.commentOnIssue)||void 0===r?void 0:r.comment){var i,o="IssueType:".concat(null===(i=u.issue)||void 0===i?void 0:i.id),s=(0,a.Ps)(M()),l=e.readFragment({id:o,fragment:s});l&&"comments"in l&&(e.writeFragment({id:o,fragment:s,data:{__typename:"IssueType",comments:L(l.comments).concat([n.data.commentOnIssue.comment])}}),f("### Add your comment here!"))}}}),2),h=g[0],p=g[1].loading,b=(0,i.useState)(null===(t=u.issue)||void 0===t?void 0:t.title),x=b[0],y=b[1],w=(0,i.useState)(!1),j=w[0],k=w[1],I=function(){return k((function(e){return!e}))},C=A((0,l.D)(Z,{variables:{newTitle:x||"",issuePk:parseInt((null===(o=u.issue)||void 0===o?void 0:o.id)||"0")},update:function(e,n){var t,r;if((null===(t=n.data)||void 0===t||null===(r=t.editTitle)||void 0===r?void 0:r.ok)&&u.issue){var i;I();var o="IssueType:".concat(null===(i=u.issue)||void 0===i?void 0:i.id),s=(0,a.Ps)(R());e.writeFragment({id:o,fragment:s,data:{__typename:"IssueType",title:x}})}}}),2),S=C[0],P=C[1].loading;return(0,r.jsx)(D,{challengeSlug:c,issueData:u,lectureData:s,courseData:d,newCommentText:v,setNewCommentText:f,onSubmit:function(e){e.preventDefault(),""===v||p||h()},commentMutationProgress:p,titleEditValue:x,isEditingTitle:j,onTitleEditChange:function(e){return y(e.currentTarget.value)},toggleIsEditing:I,onTitleEditSubmit:function(e){e.preventDefault(),u.issue&&""!==x&&!P&&S()}})}},17407:function(e,n,t){t.d(n,{AH:function(){return Z},ZP:function(){return H}});var r=t(85893),i=t(50542),o=t(11163),u=t(67294),s=t(19989),l=t(71641),a=t(50319),c=t(64064),d=t(9008),m=t(41664),v=t(16120),f=function(){var e=(0,u.useState)(window.outerWidth),n=e[0],t=e[1];return(0,u.useEffect)((function(){window.addEventListener("resize",(function(){return t(window.outerWidth)}))}),[]),n<=1e3},g=t(39425),h=t(5152),p=(0,h.default)((function(){return t.e(1398).then(t.bind(t,51398))}),{loadableGenerated:{webpack:function(){return[51398]}}}),b=(0,h.default)((function(){return t.e(639).then(t.bind(t,90639))}),{loadableGenerated:{webpack:function(){return[90639]}}}),x=(0,h.default)((function(){return t.e(9196).then(t.bind(t,39196))}),{loadableGenerated:{webpack:function(){return[39196]}}}),y=(0,h.default)((function(){return t.e(5213).then(t.bind(t,25213))}),{loadableGenerated:{webpack:function(){return[25213]}}}),w=(0,h.default)((function(){return Promise.all([t.e(7112),t.e(2814),t.e(5460),t.e(4842)]).then(t.bind(t,43884))}),{loadableGenerated:{webpack:function(){return[43884]}}}),j=(0,h.default)((function(){return Promise.all([t.e(8523),t.e(1385),t.e(2814),t.e(7379),t.e(2283),t.e(4864),t.e(9471),t.e(3702),t.e(6733),t.e(4803),t.e(9933)]).then(t.bind(t,39933))}),{loadableGenerated:{webpack:function(){return[39933]}}}),k=(0,h.default)((function(){return Promise.all([t.e(1385),t.e(7379),t.e(6733)]).then(t.bind(t,96733))}),{loadableGenerated:{webpack:function(){return[96733]}}}),I=u.memo(w),C=function(e){var n,t,i,o,u,s,l,a,c,h,w=e.lectureData,C=e.courseData,S=e.toggleSidebar,P=e.sidebarVisible,N=e.onPrevious,T=e.onContinue,O=e.courseFinished,D=e.toggleCourseFinished,E=e.isLoggedIn,$=e.isComment,A=e.commentData,F=e.videoRef,L=e.seekTo,z=e.isIssue,_=e.issueData,q=e.onDuration,M=f();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{children:(0,r.jsx)("script",{src:"https://embed.videodelivery.net/embed/sdk.latest.js"})}),(0,r.jsx)(g.Z,{pageTitle:"".concat((null===w||void 0===w||null===(n=w.lecture)||void 0===n?void 0:n.publicName)||"Lecture"," \u2013 \ub178\ub9c8\ub4dc \ucf54\ub354 Nomad Coders"),ogTitle:"".concat((null===w||void 0===w||null===(t=w.lecture)||void 0===t?void 0:t.publicName)||"Lecture"," \u2013 \ub178\ub9c8\ub4dc \ucf54\ub354 Nomad Coders"),description:"Watch now",path:"/courses"}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 ",children:[(0,r.jsx)(p,{courseData:C,toggleSidebar:S,onPrevious:N,onContinue:T,sidebarVisible:P}),(0,r.jsxs)("div",{className:"pt-12",children:[P&&(0,r.jsx)(b,{toggleSidebar:M?S:function(){return null},lectureData:w,courseData:C}),(0,r.jsx)("div",{className:"".concat(P?"ml-96 hidden lg:block":"col-span-5"," pb-20 relative pt-10 px-5 xl:px-16 min-h-screen"),style:{width:P?"calc(100% - 24rem)":"100%"},children:(null===w||void 0===w?void 0:w.lecture)&&C?(0,r.jsx)(r.Fragment,{children:w.lecture.freePreview||w.lecture.canSee?z&&(null===_||void 0===_?void 0:_.issue)?(0,r.jsx)(v.Z,{lectureData:w,courseData:C,issueData:_}):$&&(null===A||void 0===A?void 0:A.comment)?(0,r.jsxs)("div",{className:"w-full",children:[(null===w||void 0===w?void 0:w.lecture)&&(0,r.jsx)("h3",{className:"text-xl font-medium mb-5 dark:text-white",children:w.lecture.publicName}),(0,r.jsx)(m.default,{href:"/[course]/lectures/[id]",as:"/".concat(null===C||void 0===C||null===(i=C.course)||void 0===i?void 0:i.slug,"/lectures/").concat(null===w||void 0===w||null===(o=w.lecture)||void 0===o?void 0:o.id),children:(0,r.jsxs)("a",{className:"text-blue-600 dark:text-white underline text-lg font-medium mb-10 block",children:["\u2190 ",$&&"See all comments."]})}),(0,r.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(A.comment.isOwner||!A.comment.user.amazing)&&(0,r.jsx)(k,{isUpvoted:A.comment.isUpvoted,upvotes:A.comment.upvotes,isOutsider:!1,courseSlug:null===C||void 0===C||null===(u=C.course)||void 0===u?void 0:u.slug,lectureId:parseInt((null===w||void 0===w||null===(s=w.lecture)||void 0===s?void 0:s.id)||"0",10),isReply:!1,commentId:parseInt(A.comment.id,10),tier:A.comment.user.tier,isOwner:A.comment.isOwner,avatar:A.comment.user.avatar,author:A.comment.user.username,timestamp:A.comment.created,content:A.comment.content,replies:A.comment.replies})})]}):(0,r.jsxs)(r.Fragment,{children:[O&&(0,r.jsx)("div",{className:"mt-5",children:(0,r.jsx)(x,{toggleCourseFinished:D})}),(0,r.jsx)(I,{onDuration:q,videoRef:F,onContinue:T,challengeInfo:(null===(l=C.course)||void 0===l?void 0:l.challengeInfo)||"",publicName:w.lecture.publicName||"",hasChallenge:(null===(a=C.course)||void 0===a?void 0:a.hasChallenge)||!1,promptChallenge:(null===(c=C.course)||void 0===c?void 0:c.promptChallenge)||!1,courseSlug:null===(h=C.course)||void 0===h?void 0:h.slug,githubCommit:w.lecture.githubCommit,text:w.lecture.text,video:w.lecture.video,id:w.lecture.id}),(w.lecture.canSee||w.lecture.freePreview)&&C.course&&(0,r.jsx)(j,{courseSlug:C.course.slug,isOutsider:!w.lecture.canSee&&w.lecture.freePreview,commentsEnabled:w.lecture.commentsEnabled,lectureData:w,seekTo:L})]}):(0,r.jsx)(y,{isLoggedIn:E,courseData:C})}):(0,r.jsx)("div",{className:"bg-white dark:bg-gray-700 w-full pb-2/4 shadow-xl rounded"})})]})]})]})},S=t(28879),P=t(33306),N=t(19733);function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,s=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(l){s=!0,i=l}finally{try{u||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function A(){var e=$(["\n  query lecture($pk: Int!) {\n    lecture(pk: $pk) {\n      id\n      publicName\n      canSee\n      freePreview\n      video\n      githubCommit\n      text\n      isCompleted\n      noteCount\n      feebackPrompt\n      commentsEnabled\n      commentCount\n      issueCount\n      duration\n    }\n  }\n"]);return A=function(){return e},e}function F(){var e=$(["\n  query issue($issuePk: Int!) {\n    issue(issuePk: $issuePk) {\n      id\n      title\n      status\n      comment\n      isOwner\n      created\n      comments {\n        ...IssueCommentParts\n      }\n      user {\n        username\n        avatar\n        amazing\n        tier\n      }\n      lecture {\n        id\n        publicName\n      }\n    }\n  }\n  ","\n"]);return F=function(){return e},e}function L(){var e=$(["\n  query getComment($commentPk: Int!) {\n    comment(commentPk: $commentPk) {\n      ...CommentParts\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function z(){var e=$(["\n  mutation completeLecture($pk: Int!) {\n    completeLecture(pk: $pk) {\n      ok\n    }\n  }\n"]);return z=function(){return e},e}function _(){var e=$(["\n  mutation completeCourse($courseSlug: String!) {\n    completeCourse(courseSlug: $courseSlug) {\n      certificate {\n        uuid\n        master {\n          name\n          kind\n          tech\n        }\n      }\n    }\n  }\n"]);return _=function(){return e},e}function q(){var e=$(["\n  mutation reportDuration($lecturePk: Int!, $duration: Int!) {\n    reportDuration(lecturePk: $lecturePk, duration: $duration) {\n      ok\n    }\n  }\n"]);return q=function(){return e},e}function M(){var e=$(["\n  query lecturePageQuery($slug: String!) {\n    course(slug: $slug) {\n      name\n      progress\n      progressLectures\n      isEnrolled\n      isFree\n      slug\n      promptChallenge\n      hasChallenge\n      challengeInfo\n      isComplete\n      sections {\n        id\n        order\n        publicName\n        lectures {\n          id\n          publicName\n          isCompleted\n          freePreview\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}function R(){var e=$(["\n        fragment userEnrollmentFragment on UserType {\n          certificates {\n            uuid\n          }\n        }\n      "]);return R=function(){return e},e}var V=(0,s.Ps)(A()),Z=(0,s.Ps)(F(),P.hq),B=(0,s.Ps)(L(),P.ZS),U=(0,s.Ps)(z()),G=(0,s.Ps)(_()),W=(0,s.Ps)(q()),Q=(0,s.Ps)(M()),H=function(e){var n,t,d,m,v,g,h,p=e.isComment,b=void 0!==p&&p,x=e.isIssue,y=void 0!==x&&x,w=(0,S.Z)(),j=f(),k=(0,u.useState)(!0),I=k[0],P=k[1];(0,u.useEffect)((function(){j&&P(!1)}),[j]);var T=(0,o.useRouter)(),O=null===T||void 0===T||null===(n=T.query)||void 0===n||null===(t=n.course)||void 0===t?void 0:t.toString(),$=parseInt((null===T||void 0===T||null===(d=T.query)||void 0===d?void 0:d.id)||"0",10),A=(0,u.createRef)(),F=(0,l.a)(Q,{variables:{slug:null===T||void 0===T||null===(m=T.query)||void 0===m||null===(v=m.course)||void 0===v?void 0:v.toString()},skip:void 0==(null===T||void 0===T||null===(g=T.query)||void 0===g?void 0:g.course)}).data,L=(0,N.Z)().data,z=E((0,a.D)(G,{update:function(e,n){var t,r;if((null===(t=n.data)||void 0===t||null===(r=t.completeCourse)||void 0===r?void 0:r.certificate)&&(null===L||void 0===L?void 0:L.me)){var i,o="user:".concat(null===L||void 0===L||null===(i=L.me)||void 0===i?void 0:i.username),u=(0,s.Ps)(R());try{e.readFragment({id:o,fragment:u})}catch(l){console.log(l)}}}}),1)[0],_=(0,u.useState)(!1),q=_[0],M=_[1],H=E((0,a.D)(U,{update:function(e,n){var t,r;if((null===(t=n.data)||void 0===t||null===(r=t.completeLecture)||void 0===r?void 0:r.ok)&&(null===F||void 0===F?void 0:F.course)&&(null===Y||void 0===Y?void 0:Y.lecture)){var i,o=e.readQuery({query:V,variables:{pk:parseInt(null===Y||void 0===Y||null===(i=Y.lecture)||void 0===i?void 0:i.id)}});e.writeQuery({query:V,data:{lecture:D({},null===o||void 0===o?void 0:o.lecture,{isCompleted:!0})}});var u=e.readQuery({query:c.f6,variables:{slug:F.course.slug}});(null===u||void 0===u?void 0:u.course)&&setTimeout((function(){var n,t;if((null===(n=u.course)||void 0===n?void 0:n.progress)&&F.course){var r=(null===u||void 0===u||null===(t=u.course)||void 0===t?void 0:t.progress)+1;r===u.course.progressLectures&&F.course.isComplete&&z({variables:{courseSlug:F.course.slug}}),e.writeQuery({query:c.f6,data:{course:D({},u.course,{progress:r})}})}}),1e3)}},onCompleted:function(){M(!1),se(!0)}}),1)[0],J=parseInt(T.query.commentId||"0",10),K=(0,l.a)(B,{variables:{commentPk:J},skip:void 0===T.query.commentId||!b}).data;(0,u.useEffect)((function(){var e,n,t;(null===K||void 0===K||null===(e=K.comment)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.id)&&T.replace("/[course]/lectures/[id]/comments/[commentId]","/".concat(null===F||void 0===F||null===(t=F.course)||void 0===t?void 0:t.slug,"/lectures/").concat($,"/comments/").concat(J))}),[K,F]);var X=(0,l.a)(Z,{variables:{issuePk:parseInt(T.query.issueId||"0",10)},skip:void 0===T.query.issueId||!y}).data,Y=(0,l.a)(V,{variables:{pk:$},skip:void 0===(null===T||void 0===T||null===(h=T.query)||void 0===h?void 0:h.id)}).data,ee=E((0,a.D)(W),1)[0],ne=(0,u.useState)(),te=ne[0],re=ne[1],ie=(0,u.useState)(!1),oe=ie[0],ue=ie[1];(0,u.useEffect)((function(){var e;(null===F||void 0===F||null===(e=F.course)||void 0===e?void 0:e.sections)&&re(F.course.sections.map((function(e){return e.lectures&&e.lectures.map((function(e){return e}))})).flat(1))}),[F]);var se=function(e){if(Y&&te&&F&&F.course&&null!==Y.lecture&&Y.lecture.id){var n=te.findIndex((function(e){return e.id===Y.lecture.id}));if(-1!=n)if(e){if(n+1<te.length){var t,r;i.ZP.event({category:"Courses",action:"Watched ".concat(null===(t=Y.lecture)||void 0===t?void 0:t.id,":").concat(null===L||void 0===L||null===(r=L.me)||void 0===r?void 0:r.username,":").concat(O)});try{window.dataLayer&&window.dataLayer.push({event:"watch_lecture",course:O})}catch(o){}T.push("/[course]/lectures/[id]","/".concat(F.course.slug,"/lectures/").concat(te[n+1].id))}}else n-1>=0&&T.push("/[course]/lectures/[id]","/".concat(F.course.slug,"/lectures/").concat(te[n-1].id))}},le=function(e){var n,t;if(!q)if(null===F||void 0===F||null===(t=F.course)||void 0===t?void 0:t.isEnrolled){if(e&&(null===Y||void 0===Y?void 0:Y.lecture)&&(null===F||void 0===F?void 0:F.course)&&!Y.lecture.isCompleted){M(!0);var r=parseInt(Y.lecture.id,10);return void H({variables:{pk:r}})}}else se(e);(null===Y||void 0===Y||null===(n=Y.lecture)||void 0===n?void 0:n.isCompleted)&&e?se(e):e||se(!1)};return(0,u.useEffect)((function(){1==navigator.webdriver&&(window.location.href="http://google.com")}),[A]),(0,r.jsx)(C,{issueData:X,commentData:K,lectureData:Y,courseData:F,toggleSidebar:function(){return P((function(e){return!e}))},sidebarVisible:I,onPrevious:function(){return le(!1)},onContinue:function(){return le(!0)},courseFinished:oe,toggleCourseFinished:function(){return ue((function(e){return!e}))},isLoggedIn:w,isComment:b,isIssue:y,videoRef:A,seekTo:function(e,n){if(A.current){window.scrollTo(0,200);var t=60*e+n;A.current.seekTo(t,"seconds")}},onDuration:function(e){var n;"serranoarevalo"===(null===L||void 0===L||null===(n=L.me)||void 0===n?void 0:n.username)&&ee({variables:{lecturePk:$,duration:Math.floor(e)}})}})}},64064:function(e,n,t){t.d(n,{f6:function(){return a}});var r=t(33306),i=t(19989),o=t(71641);function u(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function s(){var e=u(["\n  query courseDetail($slug: String!) {\n    course(slug: $slug) {\n      ...CourseCard\n      name\n      slug\n      isEnrolled\n      isFree\n      isReward\n      isForSale\n      isComplete\n      hasTestimonials\n      totalPrice\n      adminText\n      level {\n        name\n        color\n      }\n      sections {\n        id\n        order\n        publicName\n        lectures {\n          id\n          publicName\n          freePreview\n        }\n      }\n      bonuses {\n        ...CourseCard\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function l(){var e=u(["\n  query courseFullDetail($slug: String!) {\n    course(slug: $slug) {\n      ...CourseCard\n      name\n      slug\n      isEnrolled\n      isFree\n      isReward\n      isForSale\n      isComplete\n      hasTestimonials\n      totalPrice\n      adminText\n      sections {\n        id\n        order\n        publicName\n        lectures {\n          id\n          publicName\n          isCompleted\n          freePreview\n        }\n      }\n      bonuses {\n        ...CourseCard\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var a=(0,i.Ps)(s(),r.xe),c=(0,i.Ps)(l(),r.xe);n.ZP=function(e,n){return(0,o.a)((null===n||void 0===n?void 0:n.full)?c:a,{variables:{slug:e},skip:!e,fetchPolicy:"cache-and-network"})}}}]);